"use strict";(self.webpackChunkjavascript_framework_shop=self.webpackChunkjavascript_framework_shop||[]).push([[220],{811:(t,s,e)=>{e.d(s,{Z:()=>a});var n=e(286),i=e(771);class a extends i.Z{static _links=[];constructor({url:t="",html:s="",attributes:e={},activeClass:i="active"}={}){super(),this._router=n.Z.instance,this._url=this._correctUrl(t),this._html=s,this._attributes=e,this._activeClass=i,this._init()}get router(){return this._router}get activeClass(){return this._activeClass}_correctUrl(t){return this._router.history===n.Z.createWebHashHistory()&&(t=t.replace(/^\//,"/#/")),t}_initComponent(){this._component=document.createElement("a"),this._url===this._router.getUri()&&this._component.classList.add(this._activeClass),this._component.setAttribute("href",this._url),this._component.innerHTML=this._html,Object.entries(this._attributes).forEach((([t,s])=>{this._component.setAttribute(t,`${s}`)})),a._links.push({link:this._component,activeClass:this._activeClass})}_initListeners(){this._component.addEventListener("click",(async t=>{t.preventDefault();const s=t.currentTarget.getAttribute("href");window.history.pushState(null,null,s),this._toggleClass(),await this._router.render()})),window.addEventListener(this._router.history,(()=>this._toggleClass()),{signal:this._abortController.signal})}_toggleClass(){a._links.forEach((({link:t,activeClass:s})=>{new URL(t.href).pathname===this._router.getUri()?t.classList.add(s):t.classList.remove(s)}))}}},220:(t,s,e)=>{e.r(s),e.d(s,{default:()=>h});var n=e(771),i=e(811);const a=JSON.parse('[{"title":"<svg width=\\"18\\" height=\\"18\\"><use xlink:href=\\"#icon-heart\\"></use></svg> Избранное","url":"/favourites"},{"title":"<svg width=\\"16\\" height=\\"16\\"><use xlink:href=\\"#icon-blank\\"></use></svg> Заявки","url":"/bids?page=1"}]');class r extends n.Z{constructor({classUl:t="",classLi:s="",classA:e=""}={}){super(),this.classUl=t,this.classLi=s,this.classA=e,this._init()}_initComponent(){const t=document.createElement("div");t.append(this._menu(a)),this._component=t.firstElementChild}_menu(t=[]){const s=document.createElement("ul");s.classList.add(`${this.classUl}`);const e=t.map((t=>{const{title:s,url:e,links:n}=t,a=document.createElement("li"),r=new i.Z({url:e,html:s,attributes:{class:`${this.classA}`},activeClass:`${this.classA}--active`});if(a.classList.add(`${this.classLi}`),e===r.router.getUri()&&r.component.classList.add(r.activeClass),a.append(r.component),n){const t=this._menu(n);a.append(t)}return a}));return s.append(...e),s}_initListeners(){}}const l={homeLink:new i.Z({url:"/",html:"Интернет магазин",attributes:{class:"main-nav__logo"}}),menu:new r({classUl:"main-nav__list",classLi:"main-nav__item",classA:"main-nav__link"})};class o extends n.Z{constructor(){super(),this._setComponents(l),this._init()}get _template(){return'\n      <nav class="main-nav" data-el="mainNav">\n        <div class="container">\n          <div data-el="homeLink">\x3c!-- homeLink --\x3e</div>\n          <div data-el="menu">\x3c!-- _menu --\x3e</div>\n        </div>\n      </nav>\n    '}_initListeners(){}}const c={nav:new o};class h extends n.Z{constructor(){super(),this._setComponents(c),this._init()}get _template(){return'\n      <div class="main-layout">\n        <header class="main-header">\n          <nav data-el="nav">\x3c!-- MainNavComponent --\x3e</nav>\n        </header>\n\n        <main data-el="page">\x3c!-- PageComponent --\x3e</main>\n\n        <footer class="main-footer">\n          <div class="container">\n            <span>Copyright 2023</span>\n            <a class="main-footer__author" href="https://github.com/eliofery/javascript-framework-webpack" target="_blank" rel="nofollow">\n            <span>Sergio</span> Eliofery\n            </a>\n          </div>\n        </footer>\n      </div>\n    '}}}}]);